# ðŸ—ï¸ SCIS Payment System Architecture

## ðŸ“Š System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FRONTEND (React + TypeScript)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Membership     â”‚  â”‚  Payment Page    â”‚  â”‚  Admin Panel        â”‚    â”‚
â”‚  â”‚ Form Page      â”‚  â”‚                  â”‚  â”‚                     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ - Select Type  â”‚  â”‚ - QR Code        â”‚  â”‚ - Pending List      â”‚    â”‚
â”‚  â”‚ - Fill Details â”‚  â”‚ - Bank Details   â”‚  â”‚ - View Screenshot   â”‚    â”‚
â”‚  â”‚ - Submit       â”‚  â”‚ - Upload Proof   â”‚  â”‚ - Approve/Reject    â”‚    â”‚
â”‚  â”‚ - Calculate Feeâ”‚  â”‚ - Submit         â”‚  â”‚ - Add Remarks       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                     â”‚                      â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                     â”‚                      â”‚
          â”‚ API Calls           â”‚ API Calls            â”‚ Admin API Calls
          â–¼                     â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKEND (Node.js + Express)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        API ROUTES                                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  /api/payment/fees                  â† Get all fees & bank details â”‚  â”‚
â”‚  â”‚  /api/payment/verify                â† Submit payment proof        â”‚  â”‚
â”‚  â”‚  /api/payment/verify/upgrade        â† Submit upgrade proof        â”‚  â”‚
â”‚  â”‚  /api/payment/verify/all            â† Admin: List verifications   â”‚  â”‚
â”‚  â”‚  /api/payment/verify/:id/approve    â† Admin: Approve payment      â”‚  â”‚
â”‚  â”‚  /api/payment/verify/:id/reject     â† Admin: Reject payment       â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                     â”‚                      â”‚                   â”‚
â”‚         â–¼                     â–¼                      â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Payment    â”‚  â”‚   Membership     â”‚  â”‚      Admin          â”‚      â”‚
â”‚  â”‚  Controller  â”‚  â”‚   Controller     â”‚  â”‚    Controller       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                     â”‚                      â”‚                   â”‚
â”‚         â–¼                     â–¼                      â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        MIDDLEWARE                                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  - verifyJWT (Authentication)                                     â”‚  â”‚
â”‚  â”‚  - isAdmin (Authorization)                                        â”‚  â”‚
â”‚  â”‚  - Error Handler                                                  â”‚  â”‚
â”‚  â”‚  - CORS                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                                â”‚
â”‚         â–¼                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      MONGOOSE MODELS                              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚   Membership    â”‚  â”‚   PaymentVerification        â”‚          â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚  â”‚
â”‚  â”‚  â”‚ - firstName     â”‚  â”‚ - membershipId (ref)         â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - lastName      â”‚  â”‚ - userId (ref)               â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - email         â”‚  â”‚ - membershipType             â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - membershipTypeâ”‚  â”‚ - amount                     â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - membershipFee â”‚  â”‚ - transactionId              â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - paymentStatus â”‚  â”‚ - paymentScreenshot          â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - active        â”‚  â”‚ - verificationStatus         â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - issueDate     â”‚  â”‚ - verifiedBy (ref)           â”‚          â”‚  â”‚
â”‚  â”‚  â”‚ - expiryDate    â”‚  â”‚ - adminRemarks               â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MONGODB DATABASE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  memberships   â”‚  â”‚  paymentverificationsâ”‚  â”‚      users       â”‚   â”‚
â”‚  â”‚  collection    â”‚  â”‚      collection      â”‚  â”‚   collection     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL SERVICES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚       CLOUDINARY            â”‚  â”‚     EMAIL SERVICE              â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ - Store payment screenshotsâ”‚  â”‚ - Send notifications           â”‚    â”‚
â”‚  â”‚ - Optimize images          â”‚  â”‚ - Approval/Rejection emails    â”‚    â”‚
â”‚  â”‚ - Serve via CDN            â”‚  â”‚ - Membership confirmations     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ Payment Flow Sequence

```
USER                    FRONTEND                 BACKEND                 DATABASE
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚  1. Fill Form           â”‚                        â”‚                       â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚  2. Get Fees           â”‚                       â”‚
 â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚  3. Return Fees        â”‚                       â”‚
 â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
 â”‚                         â”‚    + Bank Details      â”‚                       â”‚
 â”‚                         â”‚    + QR Code Data      â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚  4. See Payment Info    â”‚                        â”‚                       â”‚
 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚                       â”‚
 â”‚    (QR + Bank Details)  â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚  5. Make Payment        â”‚                        â”‚                       â”‚
 â”‚     (UPI/Bank Transfer) â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚  6. Upload Screenshot   â”‚                        â”‚                       â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚  7. Click "Payment Done"â”‚                        â”‚                       â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚  8. Submit Verificationâ”‚                       â”‚
 â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
 â”‚                         â”‚     + Screenshot       â”‚                       â”‚
 â”‚                         â”‚     + Transaction ID   â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚  9. Create Record     â”‚
 â”‚                         â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                         â”‚                        â”‚   PaymentVerification â”‚
 â”‚                         â”‚                        â”‚   (status: pending)   â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚ 10. Update Membership â”‚
 â”‚                         â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                         â”‚                        â”‚   (paymentStatus:     â”‚
 â”‚                         â”‚                        â”‚    verified)          â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚ 11. Success Response   â”‚                       â”‚
 â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚ 12. Show "Pending       â”‚                        â”‚                       â”‚
 â”‚     Admin Approval"     â”‚                        â”‚                       â”‚
 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚         === ADMIN REVIEWS PAYMENT ===            â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
ADMIN                   ADMIN PANEL              BACKEND                 DATABASE
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚ 13. View Pending List   â”‚                        â”‚                       â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚ 14. Get All Pending    â”‚                       â”‚
 â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚ 15. Query Pending     â”‚
 â”‚                         â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚ 16. Return Records    â”‚
 â”‚                         â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚ 17. Return List        â”‚                       â”‚
 â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚ 18. View Screenshot     â”‚                        â”‚                       â”‚
 â”‚ 19. Check Details       â”‚                        â”‚                       â”‚
 â”‚ 20. Click "Approve"     â”‚                        â”‚                       â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
 â”‚     + Admin Remarks     â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚ 21. Approve Request    â”‚                       â”‚
 â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚ 22. Update Verificationâ”‚
 â”‚                         â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                         â”‚                        â”‚   (status: approved)  â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚ 23. Update Membership â”‚
 â”‚                         â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                         â”‚                        â”‚   (paymentStatus:     â”‚
 â”‚                         â”‚                        â”‚    completed)         â”‚
 â”‚                         â”‚                        â”‚   (active: true)      â”‚
 â”‚                         â”‚                        â”‚   (issueDate: now)    â”‚
 â”‚                         â”‚                        â”‚   (expiryDate: +1yr)  â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚                         â”‚ 24. Success Response   â”‚                       â”‚
 â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚ 25. Show "Approved"     â”‚                        â”‚                       â”‚
 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚                       â”‚
 â”‚                         â”‚                        â”‚                       â”‚
 â”‚         ðŸŽ‰ MEMBERSHIP ACTIVATED ðŸŽ‰               â”‚                       â”‚
 â”‚         ðŸ“‡ ID CARD CAN BE GENERATED ðŸ“‡           â”‚                       â”‚
```

---

## ðŸ’¾ Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId                                                 â”‚
â”‚ email: String                                                 â”‚
â”‚ firstName: String                                             â”‚
â”‚ lastName: String                                              â”‚
â”‚ isAdmin: Boolean                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                    â”‚
         â”‚ userId                             â”‚ verifiedBy
         â”‚                                    â”‚
         â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Membership        â”‚         â”‚   PaymentVerification         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id: ObjectId        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ _id: ObjectId                 â”‚
â”‚ firstName: String    â”‚         â”‚ membershipId: ObjectId (ref)  â”‚
â”‚ lastName: String     â”‚         â”‚ userId: ObjectId (ref)        â”‚
â”‚ email: String        â”‚         â”‚ email: String                 â”‚
â”‚ membershipType: Enum â”‚         â”‚ membershipType: Enum          â”‚
â”‚ membershipFee: Numberâ”‚         â”‚ amount: Number                â”‚
â”‚ paymentStatus: Enum  â”‚         â”‚ transactionId: String         â”‚
â”‚ active: Boolean      â”‚         â”‚ paymentScreenshot: String     â”‚
â”‚ issueDate: Date      â”‚         â”‚ paymentMethod: Enum           â”‚
â”‚ expiryDate: Date     â”‚         â”‚ verificationStatus: Enum      â”‚
â”‚ paymentVerificationIdâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ verifiedBy: ObjectId (ref)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ verifiedAt: Date              â”‚
                                 â”‚ adminRemarks: String          â”‚
                                 â”‚ isUpgrade: Boolean            â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ Membership Type & Fee Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Membership     â”‚   Fee   â”‚          Description             â”‚
â”‚     Type        â”‚  (INR)  â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  student-ug     â”‚   250   â”‚  Undergraduate students          â”‚
â”‚  student-pg     â”‚   350   â”‚  Postgraduate/Masters students   â”‚
â”‚  academic       â”‚   500   â”‚  Academic/Faculty/Researchers    â”‚
â”‚  industry       â”‚   750   â”‚  Industry professionals          â”‚
â”‚  international  â”‚   600   â”‚  Non-Indian residents (Global)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ˆ Status State Machine

### Payment Status (Membership Model)

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ PENDING â”‚  â† Initial state after form submission
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚
          â”‚ User submits payment proof
          â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ VERIFIED â”‚  â† Awaiting admin review
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€ Admin Action â”€â”€â”€â”€â”€â”€â”
          â”‚                           â”‚
          â”‚ Approve                   â”‚ Reject
          â–¼                           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ COMPLETED â”‚              â”‚ REJECTED â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     âœ… Active                   âŒ Inactive
     Can generate ID card        User can resubmit
```

### Verification Status (PaymentVerification Model)

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ PENDING â”‚  â† Initial state
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Admin reviews
          â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€ Decision â”€â”€â”€â”€â”€â”€â”
          â”‚                       â”‚
          â”‚ Approve               â”‚ Reject
          â–¼                       â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ APPROVED â”‚           â”‚ REJECTED â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Security & Authorization Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Endpoint             â”‚ Public  â”‚  User   â”‚   Admin    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/payment/fees        â”‚    âœ…   â”‚    âœ…   â”‚     âœ…     â”‚
â”‚ GET /api/payment/fees/:type  â”‚    âœ…   â”‚    âœ…   â”‚     âœ…     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST /api/payment/verify     â”‚    âŒ   â”‚    âœ…   â”‚     âœ…     â”‚
â”‚ POST .../verify/upgrade      â”‚    âŒ   â”‚    âœ…   â”‚     âœ…     â”‚
â”‚ GET .../verify/membership/:idâ”‚    âŒ   â”‚    âœ…   â”‚     âœ…     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/payment/verify/all  â”‚    âŒ   â”‚    âŒ   â”‚     âœ…     â”‚
â”‚ GET /api/payment/verify/:id  â”‚    âŒ   â”‚    âŒ   â”‚     âœ…     â”‚
â”‚ POST .../verify/:id/approve  â”‚    âŒ   â”‚    âŒ   â”‚     âœ…     â”‚
â”‚ POST .../verify/:id/reject   â”‚    âŒ   â”‚    âŒ   â”‚     âœ…     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
âœ… = Allowed
âŒ = Not Allowed (Returns 401/403)
```

---

## ðŸ“¦ File Structure

```
SCIS-Backend/
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ Membership.js               â† Updated (new membership types & fees)
â”‚   â””â”€â”€ PaymentVerification.js      â† NEW (payment tracking)
â”‚
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ adminController.js          â† Updated (added stats endpoint)
â”‚   â””â”€â”€ paymentController.js        â† NEW (payment management)
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ adminRoutes.js              â† Updated (added stats route)
â”‚   â””â”€â”€ paymentRoutes.js            â† NEW (payment endpoints)
â”‚
â”œâ”€â”€ server.js                       â† Updated (registered payment routes)
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ PAYMENT_SYSTEM_DOCUMENTATION.md  â† Complete API docs
    â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md        â† Implementation guide
    â””â”€â”€ ARCHITECTURE.md                  â† This file
```

---

## ðŸŽ¨ UI Component Structure (Frontend - To Be Implemented)

```
SCIS-Frontend/src/
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ MembershipPayment.tsx       â† NEW (payment page)
â”‚   â”œâ”€â”€ PaymentStatus.tsx           â† NEW (check status)
â”‚   â””â”€â”€ admin/
â”‚       â””â”€â”€ PaymentVerifications.tsx â† NEW (admin management)
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ payment/
â”‚   â”‚   â”œâ”€â”€ QRCodeDisplay.tsx       â† NEW (QR code component)
â”‚   â”‚   â”œâ”€â”€ BankDetailsCard.tsx     â† NEW (bank info)
â”‚   â”‚   â”œâ”€â”€ PaymentScreenshot.tsx   â† NEW (upload screenshot)
â”‚   â”‚   â””â”€â”€ PaymentStatusBadge.tsx  â† NEW (status indicator)
â”‚   â”‚
â”‚   â””â”€â”€ admin/
â”‚       â”œâ”€â”€ VerificationTable.tsx   â† NEW (list verifications)
â”‚       â”œâ”€â”€ VerificationModal.tsx   â† NEW (view details)
â”‚       â””â”€â”€ PaymentStatsCard.tsx    â† NEW (dashboard stats)
â”‚
â””â”€â”€ services/
    â””â”€â”€ paymentService.ts           â† NEW (API calls)
```

---

## ðŸ”Œ Integration Points

### 1. QR Code Generation
```typescript
import QRCode from 'qrcode.react';

const upiString = `upi://pay?pa=societyforcyber@indianbk&pn=Society for cyber intelligent systems&am=${amount}&cu=INR`;

<QRCode value={upiString} size={256} />
```

### 2. Image Upload (Base64)
```typescript
const handleImageUpload = (event) => {
  const file = event.target.files[0];
  const reader = new FileReader();
  
  reader.onloadend = () => {
    const base64String = reader.result;
    setPaymentScreenshot(base64String);
  };
  
  reader.readAsDataURL(file);
};
```

### 3. Cloudinary Storage
```javascript
// Backend automatically handles upload
// Frontend just sends base64
// Cloudinary URL returned in response
```

---

## ðŸ“Š Analytics & Monitoring

### Key Metrics to Track

1. **Payment Conversion Rate**
   - Forms submitted vs payments completed
   - Approval rate (approved/total submissions)

2. **Processing Time**
   - Average time from submission to approval
   - Admin response time

3. **Rejection Rate**
   - % of rejected payments
   - Common rejection reasons

4. **Membership Distribution**
   - Count by membership type
   - Revenue by membership type

---

## ðŸŽ¯ Performance Considerations

1. **Image Optimization**
   - Compress screenshots before upload
   - Use Cloudinary transformations
   - Lazy load images in admin panel

2. **Database Indexing**
   ```javascript
   paymentVerificationSchema.index({ verificationStatus: 1 });
   paymentVerificationSchema.index({ email: 1 });
   paymentVerificationSchema.index({ membershipId: 1 });
   ```

3. **API Response Caching**
   - Cache membership fees (rarely change)
   - Cache bank details (static)

4. **Pagination**
   - Admin list: 20 records per page
   - Implement skip/limit queries

---

**System is production-ready! ðŸš€**
